# zivenko-money-transfer

---

[ссылка на ТЗ тут](https://redmine.powercode.pro/issues/25089)

возможные транзакции:
- создание профиля новго пользователя
    - проводится оператором при верификации клиента (физически просмотреть документы)
    
- удаление существующего профиля
    - ограничения:
        - должен быть пустым
- внести деньги на счет
    - ограничения:
        - счет должен существовать
        - тот, кто вносит деньги, должен пройти верификацию в оффлайн-точке при внесении денег
    - возможности:
        - внести можно на свой счет
        - внести можно на чужой счет с комиссией за перевод или с комиссией за перевод и снятие ("комиссия внутри суммы"/"комиссия дополнительно к сумме")
- конвертировать деньги в другой тип валюты
    - возможности:
        - "комиссия внутри суммы"/"комиссия дополнительно к сумме"
- перевести деньги со своего счета на чужой счет
- вывести 
- вывести деньги
- перевести деньги кому-то, кто не имеет счета от кого-то, кто не имеет счета

все транзакции должны быть транзакциями в смысле уровня изоляции операций?

все транзакции сопровождаются отсылкой информационного сообщения владельцу счета, на котором что-то меняется, или получателю перевода (если у него нет счета)

типы пользователей:
- имеет подтвержденный счет (создан профиль и верифицирован оператором при проверке документов)
- имеет неподтвержденный  счет (введены данные частично в профайл, не проверены оператором документы владльца счета).

Возможность иметь неподтверженный счет обусловлена возможностью перевода денег человеку, который еще не имеет счета и нет его паспортных данных. Отправитель называет, например, частичные данные (фамилия и имя, или еще что-то и канал связи). Деньги могут быть зачислены на такой счет и получатель уведомлен. Но для совершения любой операции с этими деньгами - нужно подтвердить счет - довнести необходимые данные и пройти верификацию у оператора (показать документы и назвать токен-код).

Токен-код должен быть неизвестен оператору. На стороне оператора - только хэш. Оператор вводит называемый токен-код, пограмма фиксирует совпадение хэшей и разрешает выдачу денег - после подтверждения счета оператором

Роли:
    - пользователь
        - имя
        - фамилия
        - отчество (опция)
        - дата рождения
        - ИНН (опция)
        - документ (из набора возможных)

    - оператор
    - администратор

Объекты:
    - счет
        - счет может хранить кучу разных валют
    - наверное методы счета - это и есть возможные операции

Структуры 
    - поользователи
    - счета
    - операции?
