### Что надо сделать:

- программа поддерживающая работу системы мгновенных денежных переводов (что-то типа WesternUnion)

---

#### Логика работы системы

Есть три уровня пользователей - они описиваются одинаково, но обладают зазными возможностями и функционалом в системе. Конечные пользователи - могут переводить деньги друг другу в любой валюте. Перевод осуществляется только оператором при физичсекой идентификации (проверка документов) отправителя при его визите к оператору. Так же могут осуществляться конвертации в любые валюты, внесение денег на счет и снятие денег со счета (в доступной для этого валюте с предварительной конвертацией). Каждая операция имееет стоимость, которая снимается со счета пользователя в момент совершения операции. Стоимость зачисляется в пропорциях, оговоренных в специальной базе данных, на счет оператора и администратора (к которому этот админстратор привязан - тот, кто авторизовал как оператора (к обсуждению, пока - что-то типа принципа сетевого маркетинга). Отдельную сущность "система" на этом этапе не вводим. Все зарабатывают операторы и администраторы).

#### Роли и доступные операции

##### неавторизованный прользователь

Это пользователь, который создается при вводе оператором неполных данных (для перевода ему денег от авторизованного пользователя):
- имя
- фамилия
- email (email - уникален в рамках системы, является логином в дальнейшем для входа в систему???)
автоматически создаваемые поля для пользователя:
- роль: пользователь
- авторизация: False
- количество денег в конкретной валюте на счету

Операции, которые можно совершать с этим пользователем:
- создание пользователя
- перевод денег в адрес этого пользователя
- отправка сообщения пользователю от имени оператора\администратора системы, или от имени системы

Операции, которые может совершать этот пользователь:
- нет доступных операций

##### авторизованный пользователь

Это пользователь, который создается оператором при вводе полных данных пользователя и проведения оператором процедуры верификации пользователя (лично проверил документы и увидель пользователя. Данные о проведении верификации - когда и кем проведена на время существования пользователя сохраняются в БД). Полный набор данных пользователя:
- имя
- фамилия
- отчество (необязательно)
- дата рождения
- наименование предьявленного документа
- идентификатор предьявленного документа
- email
автоматически создаваемые поля для пользователя:
- роль: пользователь
- авторизация: True
- количество денег в конкретной валюте на счету


Операции, которые можно совершать с этим пользователем:
- создание пользователя
- авторизация пользователя
- перевод денег в адрес этого пользователя
- внесение денег на счет
- снятие денег со счета
- перевод денег со счета в адрес других пользователей
- конвертация денег на счете
- отправка сообщения пользователю от имени оператора\администратора системы
- изменение роли пользователя

Операции, которые может совершать этот пользователь:
- просмотр своего текущего балланса

##### Оператор

Это такой же пользователь, как и остальные, но у него установлена роль **оператор**

Операции, которые можно совершать с этим пользователем:
- создание пользователя
- авторизация пользователя
- перевод денег в адрес этого пользователя
- внесение денег на счет
- снятие денег со счета
- перевод денег со счета в адрес других пользователей
- конвертация денег на счете
- отправка сообщения пользователю от имени оператора\администратора системы
- изменение роли пользователя

Операции, которые может совершать этот пользователь (с пользователями, для которых эти операции допустимы. Как от своего имени, так и от имени других пользователей):
- просмотр своего текущего балланса
- создание пользователя
- авторизация пользователя
- перевод денег в адрес этого пользователя
- внесение денег на счет
- снятие денег со счета
- перевод денег со счета в адрес других пользователей
- конвертация денег на счете
- отправка сообщения пользователю от имени оператора\администратора системы
- изменение роли пользователя

##### Администратор

Это такой же пользователь, как и остальные, но у него установлена роль **администратор**

Имеет доступ ко всему функционалу сисемы, может совершать любые действия, которые могут совершать прльзователи с такими же или другими ролями.

Действия, доступные для этой роли но недоступные для других ролей:
- изменение пользователей ролей
- изменение данных стоимости операций
- изменение курсов валют


#### Сущность операция

Все операции, совершаемые кем-либо в системе над чем-либо, логируются. Обязательно должно писаться:
- время операции
- кто проводит (исполнитель)
- параметры операции (тело запроса со всеми параметрами - как json-объект, например)
- ???иницииатор операции - счет "откуда" (инициатор перевода, конвертации, внесения, снятия, отправки сообщения, запроса балланса)
- ???выгодополучатель операции - счет "куда" (для запроса баланса - чей счет смотрели)
(если json-объект будет содержать все необходимое для идентификации операции в полном объеме - то посление два пункта лишние) - или не лишние? если нужно посмотреть все операции по какому-либо счету - нужно сделать выборку по одному из этих параметров (дебетовые\кредитные операции, в зависимости того - по какому из параметров смотрим)